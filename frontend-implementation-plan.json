{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix PIN authentication stuck on 'verifying access'",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Fix SupernaturalPinLogin page to perform purely client-side PIN validation against hardcoded PIN '022025', call AdminContext login on success, and immediately redirect to admin dashboard without async backend calls or Internet Identity checks that could hang",
      "acceptanceCriteria": [
        "Entering PIN '022025' on /supernatural resolves immediately and redirects to the admin dashboard without getting stuck.",
        "Entering an incorrect PIN shows an error message and does not redirect.",
        "The 'verifying access' state resolves within a short, deterministic timeout and never hangs indefinitely.",
        "No Internet Identity or backend actor call blocks the PIN validation flow.",
        "AdminContext login state is set correctly on successful PIN entry so the dashboard remains accessible."
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/SupernaturalPinLogin.tsx",
          "operation": "modify",
          "description": "Remove any async backend verification calls or Internet Identity principal checks from the PIN validation flow. Implement purely client-side PIN validation: compare the entered PIN against the hardcoded value '022025', immediately call AdminContext.login() on match, and synchronously navigate to /admin/dashboard using the router. On mismatch, show an error message without any async delay. Ensure the 'verifying access' loading state is only shown for a minimal, deterministic duration (e.g., 100-200ms) to provide visual feedback, then resolve immediately. Do not call useActor, backend.verifyAdminCredentials, or any other async backend capability during PIN validation."
        }
      ]
    }
  ]
}